/* minified */
const fetch=require("node-fetch");exports.parameters=[{name:"line_notify_token",required:!0}],exports.run=async({outputs:e,params:t,logger:o})=>{var n=(...e)=>o.info("[95m[Line Notify][m",...e),i=(...e)=>o.error("[95m[Line Notify][m",...e);if(e.report)if(t.line_notify_token){var r=await e.report.markdown();const a=new URLSearchParams;a.append("message",e.report.title+`
`+r);t=await fetch("https://notify-api.line.me/api/notify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t.line_notify_token},body:a}).then(e=>e.json());200==t.status?o.log("[95m[Line Notify][m","å·²ç™¼é€ Line Notify"):(n(t),n(r),i("ç™¼é€ Line Notify å¤±æ•—ï¼"))}else i("è«‹è¨­å®š Line Notify Token (line_notify_token)");else i("è«‹è¨­å®š report æ¨¡çµ„")};